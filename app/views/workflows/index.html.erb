
<p id="notice"><%= notice %></p>

<h1>Listing Available Workflows</h1>

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>Name</th>
      <th>Tags</th>
      <th>Wdl source</th>
      <th>Is valid</th>
      <th>Html</th>
      <th>Inputs</th>
      <th>Options</th>
      <th colspan="3"></th>
    </tr>
  </thead>

  <tbody style='white-space: pre'>
    <% @workflows.each do |workflow| %>
      <tr>
        <td><%= workflow.name %></td>
        <td><%= workflow.tags %></td>
        <td><%= workflow.wdl_source %></td>
        <td><%= workflow.is_valid %></td>
        <% if workflow.html.nil? %>
          <td><%= workflow.html %></td>
        <% else %>
          <td><%= workflow.html.html_safe %></td>
        <% end %>
        <td><%= JSON.pretty_generate(JSON.parse(workflow.inputs.to_json)) %></td>
        <td><%= JSON.pretty_generate(JSON.parse(workflow.options.to_json)) %></td>
        <td><%= link_to 'Run', new_workflow_job_path(workflow) %></td>
        <td><%= link_to 'Show', workflow %></td>
        <td><%= link_to 'Edit', edit_workflow_path(workflow) %></td>
      </tr>
    <% end %>
  </tbody>
</table>

<br>

<%= link_to 'New Workflow', new_workflow_path, class: 'btn btn-primary' %>
